<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Hyrox Training Logger</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body style="margin:0;padding:0;font-family:-apple-system">
<div id="root"></div>
<script type="text/babel">
const {useState,useEffect}=React;
const Icon=({d,s=24})=><svg width={s} height={s} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" dangerouslySetInnerHTML={{__html:d}}/>;
const Calendar=({s=24})=><Icon d='<rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/>' s={s}/>;
const Plus=({s=24})=><Icon d='<line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>' s={s}/>;
const User=({s=24})=><Icon d='<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>' s={s}/>;
const CheckCircle=({s=24})=><Icon d='<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/>' s={s}/>;
const Flame=({s=24})=><Icon d='<path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/>' s={s}/>;
const TrendingUp=({s=24})=><Icon d='<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/>' s={s}/>;
const Clock=({s=24})=><Icon d='<circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>' s={s}/>;

function WorkoutCard({day,isComplete,onToggle}){
  const[d,setD]=useState(false);
  return <div className={`bg-white border-2 rounded-lg p-4 ${isComplete?'shadow-lg':'border-gray-200'}`} style={isComplete?{borderColor:'#FF4500'}:{}}><div className="flex gap-4"><button onClick={onToggle} className="w-6 h-6 rounded border-2 text-white" style={isComplete?{backgroundColor:'#FF4500',borderColor:'#FF4500'}:{borderColor:'#ccc'}}>{isComplete&&<CheckCircle s={20}/>}</button><div className="flex-1"><div className="font-bold text-black">{day.day} - {day.focus}</div><div className="text-sm text-gray-600">{day.detail}</div><button onClick={()=>setD(!d)} className="text-xs mt-2" style={{color:'#FF4500'}}>{d?'Hide':'Show Details'}</button>{d&&<div className="mt-2 p-3 bg-gray-50 text-sm text-black whitespace-pre-line">{day.specifics}</div>}</div></div></div>
}

function App(){
const[tab,setTab]=useState('plan');
const[user,setUser]=useState('user1');
const[plan,setPlan]=useState('mixed');
const[workouts,setWorkouts]=useState([]);
const[comp,setComp]=useState({});
const[week,setWeek]=useState(1);
const[showLogForm,setShowLogForm]=useState(false);
const[nutritionLog,setNutritionLog]=useState([]);
const[showNutritionForm,setShowNutritionForm]=useState(false);
const[showTargetForm,setShowTargetForm]=useState(false);
const[nutritionTargets,setNutritionTargets]=useState({calories:2100,protein:130,carbs:225,fats:65});
const[currentMeal,setCurrentMeal]=useState({date:new Date().toISOString().split('T')[0],mealName:'',calories:'',protein:'',carbs:'',fats:''});
const[currentWorkout,setCurrentWorkout]=useState({date:new Date().toISOString().split('T')[0],type:'',duration:'',notes:''});

useEffect(()=>{try{const w=localStorage.getItem('hyroxWorkouts');if(w)setWorkouts(JSON.parse(w));const c=localStorage.getItem('completedSessions');if(c)setComp(JSON.parse(c));const n=localStorage.getItem('nutritionLog');if(n)setNutritionLog(JSON.parse(n));const t=localStorage.getItem('nutritionTargets');if(t)setNutritionTargets(JSON.parse(t));}catch(e){}},[]); useEffect(()=>{try{localStorage.setItem('hyroxWorkouts',JSON.stringify(workouts));}catch(e){}},

[workouts]);
useEffect(()=>{try{localStorage.setItem('completedSessions',JSON.stringify(comp));}catch(e){}},

[comp]);
useEffect(()=>{try{localStorage.setItem('nutritionLog',JSON.stringify(nutritionLog));}catch(e){}},

[nutritionLog]);
useEffect(()=>{try{localStorage.setItem('nutritionTargets',JSON.stringify(nutritionTargets));}catch(e){}},

[nutritionTargets]);

const mixedWeek=[{day:'Mon',type:'Running',focus:'Intervals',detail:'6x800m',specifics:'Race pace: 4:30/km (7.4mph)\n6x800m @ 10.5-11.0mph'},{day:'Tue',type:'Strength',focus:'Upper',detail:'SkiErg, Walls',specifics:'SkiErg: 4x500m\nWall Balls: 4x20 (6kg)\nBurpees: 4x10'},{day:'Wed',type:'Running',focus:'Easy',detail:'30-40min',specifics:'30-40min @ 6.2-6.8mph'},{day:'Thu',type:'Strength',focus:'Lower',detail:'Sled, Sandbag',specifics:'Sled Push: 4x50m (150kg)\nSled Pull: 4x50m (112kg)\nSandbag: 4x100m (20kg)\nFarmers: 4x50m (24kg)'},{day:'Fri',type:'Rest',focus:'Recovery',detail:'Mobility',specifics:'Foam rolling\nStretching\nYoga'},{day:'Sat',type:'Hybrid',focus:'Sim',detail:'Mini Hyrox',specifics:'1km â†’ SkiErg â†’ 1km â†’ sled\nOR 10-12km easy'},{day:'Sun',type:'Running',focus:'Long',detail:'60-75min',specifics:'60-75min @ 6.5-7.1mph\nZone 2-3'}];

const mixedProg={1:{focus:'Base',intensity:'Low-Mod',notes:'Form focus',startDate:'2025-10-20'},2:{focus:'Base',intensity:'Low-Mod',notes:'Volume up',startDate:'2025-10-27'},3:{focus:'Base',intensity:'Mod',notes:'Aerobic',startDate:'2025-11-03'},4:{focus:'Strength',intensity:'Mod',notes:'8 stations',startDate:'2025-11-10'},5:{focus:'Strength',intensity:'Mod-High',notes:'Load up',startDate:'2025-11-17'},6:{focus:'Build',intensity:'Mod-High',notes:'More volume',startDate:'2025-11-24'},7:{focus:'Taper',intensity:'Low-Mod',notes:'RACE WEEK',startDate:'2025-12-01'}};

const mensProg={1:{focus:'Base',intensity:'Mod',notes:'Push 160kg / Pull 110kg / 10 walls @ 9kg / Farmers 20kg',startDate:'2025-10-20'},2:{focus:'Strength',intensity:'Mod-High',notes:'Push 170kg / Pull 120kg / 20 walls @ 12kg / Farmers 24kg',startDate:'2025-10-27'},3:{focus:'Intensity',intensity:'High',notes:'Push 170kg / Pull 120kg / 25 walls @ 12kg / Farmers 28kg',startDate:'2025-11-03'},4:{focus:'Race Sim',intensity:'High',notes:'Push 170kg / Pull 120kg (12 reps) / 30 walls @ 12kg',startDate:'2025-11-10'},5:{focus:'PEAK',intensity:'V.High',notes:'PEAK: Push 175kg / Pull 125kg / 35 walls @ 12kg',startDate:'2025-11-17'},6:{focus:'Rehearsal',intensity:'Mod-High',notes:'Push 160kg / Pull 110kg / 25-30 walls (taper)',startDate:'2025-11-24'},7:{focus:'Taper',intensity:'Low',notes:'RACE WEIGHTS! 152kg/102kg. RACE: 6 Dec',startDate:'2025-12-01'}};

const getMensWorkouts=(w)=>{const data={1:[{day:'Mon',type:'Strength',focus:'Lower',detail:'160kg/110kg',specifics:'Sled Push: 5x50m @ 160kg\nRDLs: 3x8 (12kg each)\nSled Pull: 6x50m @ 110kg\nBulgarian: 3x8 (10kg each)'},{day:'Tue',type:'Running',focus:'Easy',detail:'10km',specifics:'10km @ 10.2 km/h (6.34 mph - 5:52/km)\nTotal: 10km'},{day:'Wed',type:'Strength',focus:'Upper',detail:'Farmers 20kg',specifics:'Rows: 4x6 (80-100kg)\nPress: 3x8 (60-80kg)\nSkiErg: 6x250m\nFarmers: 3x40m @ 20kg each'},{day:'Thu',type:'Running',focus:'Tempo',detail:'4x1km',specifics:'4x1km @ 10.5 km/h (6.53mph - 5:43/km)\n90s recovery\nTotal: 10km'},{day:'Fri',type:'Running',focus:'Long',detail:'14km',specifics:'14km @ 10.2 km/h (6.34mph - 5:52/km)\nTotal: 14km'},{day:'Sat',type:'Rest',focus:'Recovery',detail:'Rest',specifics:'Walk\nStretch\nFoam roll'},{day:'Sun',type:'Hybrid',focus:'Circuits',detail:'10 walls @ 9kg',specifics:'2 rounds:\nSled 60kg / Burpees / Sandbag 15kg / Farmers 15kg / 10 walls @ 9kg'}],2:[{day:'Mon',type:'Strength',focus:'Lower',detail:'170kg/120kg',specifics:'Sled Push: 5x50m @ 170kg\nRDLs: 3x6 (16kg each)\nSled Pull: 8x50m @ 120kg'},{day:'Tue',type:'Running',focus:'Easy',detail:'10km',specifics:'10km @ 10.2 km/h\nTotal: 10km'},{day:'Wed',type:'Strength',focus:'Upper',detail:'Farmers 24kg',specifics:'Deadlifts: 4x5 (120-140kg)\nSkiErg: 8x250m\nFarmers: 3x50m @ 24kg each'},{day:'Thu',type:'Running',focus:'Tempo',detail:'5x1km',specifics:'5x1km @ 10.5 km/h\nTotal: 10km'},{day:'Fri',type:'Running',focus:'Long',detail:'14km',specifics:'14km @ 9.6 km/h\nTotal: 14km'},{day:'Sat',type:'Rest',focus:'Recovery',detail:'Rest',specifics:'Walk\nStretch'},{day:'Sun',type:'Hybrid',focus:'Circuits',detail:'20 walls @ 12kg',specifics:'2 rounds:\nSled 170kg / 20 walls @ 12kg'}],3:[{day:'Mon',type:'Strength',focus:'Lower',detail:'170kg/120kg (10)',specifics:'Sled Push: 6x50m @ 170kg\nSled Pull: 10x50m @ 120kg'},{day:'Tue',type:'Running',focus:'Fartlek',detail:'8x3min',specifics:'8x3min @ 10.5 km/h\nTotal: 10.5km'},{day:'Wed',type:'Strength',focus:'Upper',detail:'500m test, 28kg',specifics:'500m row test\nFarmers: 3x40m @ 28kg each'},{day:'Thu',type:'Running',focus:'VO2Max',detail:'6x800m',specifics:'6x800m @ 11.0 km/h\nTotal: 10km'},{day:'Fri',type:'Running',focus:'Long',detail:'15km',specifics:'15km total\nTotal: 15km'},{day:'Sat',type:'Rest',focus:'Recovery',detail:'Rest',specifics:'Walk'},{day:'Sun',type:'Hybrid',focus:'Circuits',detail:'25 walls @ 12kg',specifics:'3 rounds:\n25 walls @ 12kg'}],4:[{day:'Mon',type:'Strength',focus:'Lower',detail:'170kg/120kg (12)',specifics:'Sled Push: 4x50m @ 170kg\nSled Pull: 12x50m @ 120kg'},{day:'Tue',type:'Running',focus:'Tempo',detail:'2x3km',specifics:'2x3km @ 10.2 km/h\nTotal: 10km'},{day:'Wed',type:'Strength',focus:'Upper',detail:'4x500m SkiErg',specifics:'SkiErg: 4x500m'},{day:'Thu',type:'Running',focus:'Threshold',detail:'5x1km RACE',specifics:'5x1km @ 10.8 km/h\nTotal: 11km'},{day:'Fri',type:'Running',focus:'Long',detail:'16km',specifics:'16km total\nTotal: 16km'},{day:'Sat',type:'Rest',focus:'Recovery',detail:'Rest',specifics:'Walk'},{day:'Sun',type:'Hybrid',focus:'Mini-Course',detail:'30 walls @ 12kg',specifics:'Mini-Course:\n30 walls @ 12kg'}],5:[{day:'Mon',type:'Strength',focus:'Lower PEAK',detail:'175kg/125kg MAX',specifics:'Sled Push: 1x50m @ 175kg MAX\nSled Pull: 12x50m @ 125kg MAX'},{day:'Tue',type:'Running',focus:'VO2Max',detail:'8x600m',specifics:'8x600m @ 11.2 km/h\nTotal: 10.5km'},{day:'Wed',type:'Strength',focus:'Upper',detail:'1000m test',specifics:'1000m row test\nFarmers: 4x50m @ 28kg'},{day:'Thu',type:'Running',focus:'Tempo',detail:'8km continuous',specifics:'8km @ 10.2 km/h\nTotal: 11km'},{day:'Fri',type:'Running',focus:'Long PEAK',detail:'17km MAX',specifics:'17km PEAK\nTotal: 17km'},{day:'Sat',type:'Rest',focus:'Recovery',detail:'Rest',specifics:'Walk'},{day:'Sun',type:'Hybrid',focus:'Full Sim',detail:'35 walls PEAK',specifics:'Full Hyrox:\n35 walls @ 12kg'}],6:[{day:'Mon',type:'Strength',focus:'Lower Taper',detail:'160kg/110kg',specifics:'Sled Push: 3x50m @ 160kg\nSled Pull: 8x50m @ 110kg'},{day:'Tue',type:'Running',focus:'Easy',detail:'9km',specifics:'9km EASY\nTotal: 9km'},{day:'Wed',type:'Strength',focus:'Upper',detail:'Race pace',specifics:'SkiErg race pace\nFarmers: 3x40m @ 22kg'},{day:'Thu',type:'Running',focus:'Tempo',detail:'7km race pace',specifics:'7km @ 10.5 km/h\nTotal: 10km'},{day:'Fri',type:'Running',focus:'Easy',detail:'13km',specifics:'13km easy\nTotal: 13km'},{day:'Sat',type:'Rest',focus:'Recovery',detail:'Mobility',specifics:'Stretch\nFoam roll'},{day:'Sun',type:'Hybrid',focus:'Rehearsal',detail:'25-30 walls',specifics:'Rehearsal:\n25-30 walls @ 12kg'}],7:[{day:'Mon',type:'Strength',focus:'Activation',detail:'RACE 152kg/102kg',specifics:'RACE WEIGHTS!\nSled Push: 2x50m @ 152kg\nSled Pull: 3x50m @ 102kg'},{day:'Tue',type:'Running',focus:'Shakeout',detail:'6km',specifics:'6km easy\nTotal: 6km'},{day:'Wed',type:'Strength',focus:'Light',detail:'Easy',specifics:'SkiErg: 3x250m easy'},{day:'Thu',type:'Running',focus:'Shakeout',detail:'5km',specifics:'5km easy\nTotal: 5km'},{day:'Fri',type:'Rest',focus:'REST',detail:'Rest',specifics:'Complete rest\nHydrate\nSleep'},{day:'Sat',type:'Hybrid',focus:'RACE DAY ðŸ†',detail:'6 December',specifics:'RACE DAY!\nTARGET: SUB 1:30:00 ðŸ”¥'},{day:'Sun',type:'Rest',focus:'Celebrate',detail:'Recovery',specifics:'CELEBRATE! ðŸ†'}]};return data[w]||data[1];};

const currentPlan=plan==='mixed'?mixedWeek:getMensWorkouts(week);
const currentProgram=plan==='mixed'?mixedProg:mensProg;
const toggleComp=(w,i)=>{const k=`${user}-${plan}-${w}-${i}`;setComp(p=>({...p,[k]:!p[k]}));};
const isComp=(w,i)=>comp[`${user}-${plan}-${w}-${i}`]||false;
const getCompletion=(w)=>{const t=plan==='mixed'?mixedWeek:getMensWorkouts(w);let c=0;t.forEach((_,i)=>{if(isComp(w,i))c++;});return{completed:c,total:t.length,percentage:Math.round((c/t.length)*100)};};
const getRunKm=(w)=>{const t=plan==='mixed'?mixedWeek:getMensWorkouts(w);let km=0;t.forEach((d,i)=>{if(isComp(w,i)&&d.type==='Running'){const s=d.specifics.toLowerCase();if(s.match(/\b17km\b/))km+=17;else if(s.match(/\b16km\b/))km+=16;else if(s.match(/\b15km\b/))km+=15;else if(s.match(/\b14km\b/))km+=14;else if(s.match(/\b13km\b/))km+=13;else if(s.match(/\b11km\b/))km+=11;else if(s.match(/10\.5km/))km+=10.5;else if(s.match(/\b10km\b/))km+=10;else if(s.match(/\b9km\b/))km+=9;else if(s.match(/\b6km\b/))km+=6;else if(s.match(/\b5km\b/))km+=5;}});return km;};
const logWorkout=()=>{if(!currentWorkout.type)return;setWorkouts([{...currentWorkout,id:Date.now(),user,plan},...workouts]);setCurrentWorkout({date:new Date().toISOString().split('T')[0],type:'',duration:'',notes:''});setShowLogForm(false);};
const logMeal=()=>{if(!currentMeal.mealName||!currentMeal.calories)return;setNutritionLog([{...currentMeal,id:Date.now(),calories:parseFloat(currentMeal.calories),protein:parseFloat(currentMeal.protein)||0,carbs:parseFloat(currentMeal.carbs)||0,fats:parseFloat(currentMeal.fats)||0},...nutritionLog]);setCurrentMeal({date:new Date().toISOString().split('T')[0],mealName:'',calories:'',protein:'',carbs:'',fats:''});setShowNutritionForm(false);};
const getUserWorkouts=(u)=>workouts.filter(w=>w.user===u);
const getStats=(u)=>{const wa=new Date();wa.setDate(wa.getDate()-7);const ww=workouts.filter(w=>w.user===u&&new Date(w.date)>=wa);return{total:ww.length,running:ww.filter(w=>w.type==='Running').length,strength:ww.filter(w=>w.type==='Strength').length,hybrid:ww.filter(w=>w.type==='Hybrid').length};};
const getTodayNutrition=()=>{const td=new Date().toISOString().split('T')[0];return nutritionLog.filter(m=>m.date===td).reduce((a,m)=>({calories:a.calories+m.calories,protein:a.protein+m.protein,carbs:a.carbs+m.carbs,fats:a.fats+m.fats}),{calories:0,protein:0,carbs:0,fats:0});};
const getRecentNutrition=()=>{const c=new Date();c.setDate(c.getDate()-7);return nutritionLog.filter(m=>new Date(m.date)>=c);};

return <div className="min-h-screen bg-black text-white p-4"><div className="max-w-6xl mx-auto pb-20">
<div className="mb-8 text-center"><div className="flex items-center justify-center gap-3 mb-3"><img src="https://hyrox.com/wp-content/uploads/2023/09/hyrox_logo.svg" alt="Hyrox" className="h-12"/></div><h2 className="text-2xl font-semibold">Training Logger</h2></div>

<div className="flex gap-3 mb-6 justify-center flex-wrap">
<button onClick={()=>{setUser('user1');setPlan('mixed');}} className={`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold ${user==='user1'?'text-white shadow-lg':'bg-white text-black border-2 border-gray-200'}`} style={user==='user1'?{backgroundColor:'#FF4500'}:{}}><User s={20}/><div><div>Jade</div><div className="text-xs opacity-75">Mixed Doubles</div></div></button>
<button onClick={()=>{setUser('user2');setPlan('mens');}} className={`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold ${user==='user2'?'text-white shadow-lg':'bg-white text-black border-2 border-gray-200'}`} style={user==='user2'?{backgroundColor:'#FF4500'}:{}}><User s={20}/><div><div>Tony</div><div className="text-xs opacity-75">Mens Singles</div></div></button>
<button onClick={()=>{setUser('user3');setPlan('mixed');}} className={`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold ${user==='user3'?'text-white shadow-lg':'bg-white text-black border-2 border-gray-200'}`} style={user==='user3'?{backgroundColor:'#FF4500'}:{}}><User s={20}/><div><div>Nathan</div><div className="text-xs opacity-75">Mixed Doubles</div></div></button>
</div>

<div className="bg-white rounded-lg p-6 text-black">
<h3 className="text-xl font-bold mb-4">Week {week} - Running: {getRunKm(week).toFixed(1)} km</h3>
<div className="space-y-3">{currentPlan.map((day,i)=><WorkoutCard key={`${week}-${i}`} day={day} isComplete={isComp(week,i)} onToggle={()=>toggleComp(week,i)}/>)}</div>
</div>

</div></div>
}
ReactDOM.render(<App/>,document.getElementById('root'));
</script>
</body>
</html>
